<!DOCTYPE html>
<html>
<head>
    <script type="module" src="P2PSetup.js"></script>
</head>
<body><h1>Establishing a P2P connection on a local network via QR codes</h1>
<p>Read this entire page before starting</p>
<p>You are either a <em>Sender</em> or a <em>Receiver</em><br>
    A connection is established by following these steps:</p>
<h2>Sender Setup</h2>
<ol>
    <li><button id="challenge">Generate</button> a green challenge QR code and ask the receiver to scan it<div class="qr" id="qr-challenge" title="v=0
o=- 2906430401223718762 4 IN IP4 127.0.0.1
s=-
t=0 0
a=group:BUNDLE 1
a=extmap-allow-mixed
a=msid-semantic: WMS
m=application 61502 UDP/DTLS/SCTP webrtc-datachannel
c=IN IP4 10.132.59.244
a=candidate:2140420112 1 udp 2122260223 10.132.59.244 61502 typ host generation 0 network-id 1 network-cost 10
a=candidate:2168384644 1 tcp 1518280447 10.132.59.244 9 typ host tcptype active generation 0 network-id 1 network-cost 10
a=ice-ufrag:+/wf
a=ice-pwd:sia9B/yEI8rNiwNtIyDUi7k/
a=ice-options:trickle
a=fingerprint:sha-256 97:8D:7C:99:AA:1A:77:98:B9:A9:41:67:9E:8E:95:F3:CA:EC:AC:73:77:FE:94:FF:9C:C3:04:AF:AC:AD:89:45
a=setup:actpass
a=mid:1
a=sctp-port:5000
a=max-message-size:262144
"></div></li>
    <li><button id="response">Scan</button> or <button id="response-input">type in</button> their blue response QR code to accept their connection<div class="scan" id="scan-response" style="position: relative; padding: 0px; border: 1px solid silver;"></div></li>
</ol>
<h2>Receiver Setup</h2>
<ol>
    <li><button id="receiver">Scan</button> or <button id="receiver-input">type in</button> the green QR code challenge from the sender<div class="scan" id="scan-challenge" style="position: relative; padding: 0px; border: none;"></div><div class="qr" id="qr-response" title="v=0
o=- 3414936285030938348 3 IN IP4 127.0.0.1
s=-
t=0 0
a=group:BUNDLE 1
a=extmap-allow-mixed
a=msid-semantic: WMS
m=application 54541 UDP/DTLS/SCTP webrtc-datachannel
c=IN IP4 10.132.59.244
a=candidate:4245012327 1 udp 2122260223 10.132.59.244 54541 typ host generation 0 network-id 1 network-cost 10
a=ice-ufrag:2CAK
a=ice-pwd:nxmFuAAFKGSrDnceNGgEChIM
a=ice-options:trickle
a=fingerprint:sha-256 58:96:AF:70:2C:1E:38:82:94:E6:63:46:5E:99:3F:B9:FF:93:29:79:D9:08:8B:C3:47:1E:77:49:E7:20:09:51
a=setup:active
a=mid:1
a=sctp-port:5000
a=max-message-size:262144
"></div></li>
    <li>Show them your blue response QR code
    </li></ol>

<h2>Status:</h2>
<div id="output">Channel closed</div>
<style>.qr img, .qr canvas {
    padding: 1.5em;
    position: fixed;
    object-fit: contain;
    image-rendering: pixelated;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: white;
    box-sizing: border-box;
}
</style>
</body>
</html>
